//Profile config names for nf-core/configs
params {
    config_profile_description = 'The EXOGAP profile'

}

singularity {
    enabled = true
    // runOptions = '-B /shared'
}


process {
    // definition of the slurm executor. Run the pipeline in a node able to submit jobs to a HPC via sbatch
    // executor="slurm"
    // queue = { task.time <= 24.h ? 'fast' : 'long' }

    // resources for default process execution
    cpus='1'
    time='6h'

    // Process configurations with Conda environment and container definitions
    withLabel: 'agat' {
        conda = 'conf/envs/agat.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'https://depot.galaxyproject.org/singularity/agat:0.9.0--pl5321hdfd78af_0':
            'quay.io/biocontainers/agat:1.2.0--pl5321hdfd78af_0' }"
    }

    withLabel: 'bioawk' {
        conda = 'conf/envs/bioawk.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'https://depot.galaxyproject.org/singularity/bioawk:1.0--h7132678_7':
            'quay.io/biocontainers/bioawk:1.0--h7132678_8' }"
    }

    withLabel: 'biopython' {
        conda = 'conf/envs/biopython.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'https://depot.galaxyproject.org/singularity/biopython:1.75':
            'quay.io/biocontainers/biopython:1.75' }"
    }

    withLabel: 'busco' {
        conda = 'conf/envs/busco.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'https://depot.galaxyproject.org/singularity/busco:5.3.0--pyhdfd78af_0':
            'quay.io/biocontainers/busco:5.5.0--pyhdfd78af_0'}"
    }

    withLabel: 'cd_hit' {
        conda = 'conf/envs/cd_hit.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            https://depot.galaxyproject.org/singularity/cd-hit:4.8.1--h5b5514e_7':
            'biocontainers/cd-hit:v4.6.8-2-deb_cv1' }"
    }

    withLabel: 'entrez_direct' {
        conda = 'conf/envs/entrez_direct.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'docker://ncbi/edirect:12.5': '
            ncbi/edirect:12.5' }"
    }

    withLabel: 'fasta_validator' {
        conda = 'conf/envs/fasta_validator.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'https://depot.galaxyproject.org/singularity/py_fasta_validator:0.5--py39hc16433a_3':
            'quay.io/biocontainers/py_fasta_validator:0.5--py39h7d875b9_0' }"
    }


    withLabel: 'python_phylo' {
        conda = 'conf/envs/python-phylo.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'docker://dorinemerlat/python-exogap:v1.02':
            'dorinemerlat/python-exogap:v1.02' }"
    }

    withLabel: 'r_base' {
        conda = 'conf/envs/r_ba.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'docker://r-base:4.3.1':
            'r-base:4.3.1' }"
    }

    withLabel: 'repeatmasker' {
        conda = 'conf/envs/repeatmasker.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'https://depot.galaxyproject.org/singularity/repeatmasker:4.1.5--pl5321hdfd78af_0':
            'quay.io/biocontainers/repeatmasker:4.1.5--pl5321hdfd78af_0' }"
    }

    withLabel: 'repeatmodeler' {
        conda = 'conf/envs/repeatmodeler.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'https://depot.galaxyproject.org/singularity/repeatmodeler:2.0.3--pl5321h9ee0642_0':
            'quay.io/biocontainers/repeatmodeler:2.0.3--pl5321h9ee0642_0' }"
    }

    withLabel: 'sratools' {
        conda = 'conf/envs/sratools.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
            'https://depot.galaxyproject.org/singularity/sra-tools:3.0.8--h9f5acd7_0' :
            'biocontainers/sra-tools:3.0.8--h9f5acd7_0' }"
    }

        withLabel: 'trinity' {
        conda = 'conf/envs/trinity.yml'
        container = "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
        'https://depot.galaxyproject.org/singularity/trinity:2.13.2--h00214ad_1':
        'quay.io/biocontainers/trinity:2.13.2--h00214ad_1' }"
    }
}
